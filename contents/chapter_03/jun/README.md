## 03. 데이터베이스 시스템의 정의

## 1. 스키마

데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것. 정의된 스키마에 따라 데이터베이스에 실제로 저장된 값은 `인스턴스`다. 스키마는 한 번 정의되면 자주 바뀌지 않지만, 인스턴스는 계속 변하는 특성이 있다.
이를 보는 관점은 크게 외부 단계, 조직 전체 관점에서 바라보는 개념 단계, 물리적 저장 장치의 관점에서 바라보는 내부 단계로 나뉜다. 각 단계별로 다른 추상화를 제공하면 데이터베이스를 효과적으로 관리할 수 있다.

<br/><br/><br/>

## 2. 데이터 독립성

하나의 데이터베이스에는 세 가지 유형의 스키마가 존재하지만, 각각의 스키마는 데이터베이스를 바라보는 관점이 다를 뿐 모두 같은 데이터베이스를 표현한다. 따라서 세 가지 스키마 모두 유기적 대응 관계가 성립해야 한다.
예를 들어 외부 스키마에 있는 고객 번호 데이터는 개념 스키마에 있는 번호 데이터에 대응하고, 개념 스키마에 있는 번호 데이터는 내부 스키마에 있는 번호 필드에 대응한다는 연결 관계가 미리 정의되어 있어야 한다.
그래야 사용자가 물리적 저장 장치에 저장된 고객 번호 데이터에 접근할 수 있다. 이런 스키마 사이의 대응 관계를 `사상` 또는 `매핑`이라 한다.

외부 스키마와 개념 스키마는 외부/개념 사상에 의해 대응되고, 개념 스키마와 내부 스키마는 개념/내부 사상에 의해 대응된다. 데이터베이스 관리 시스템은 미리 정의된 외부/개념 사상과 개념/내부 사상 정보를 이용해
사용자가 원하는 데이터에 접근할 수 있다. 데이터베ㅣ스를 3단계 구조로 나누고 단계별로 스키마를 유지하며 스키마 사이의 대응 관계를 정의하는 궁극적 목적은 데이터의 `독립성`을 실현하기 위해서다. 이를 통해 하위
스키마를 변경하더라도 상위 스키마가 영향을 받지 않게 된다.

<br/><br/><br/>

## 3. 데이터 언어


<br/>

## 3-1. 데이터 정의어

새로운 데이터베이스를 구축하기 위해 스키마를 정의하거나 기존 스키마를 정의를 삭제 또는 수정하기 위해 사용하는 데이터 언어다. 즉, 새로 만들려는 데이터베이스의 스키마를 설명하거나 이미 정의된 스키마의 구조나
제약조건 등을 변경/삭제 하고 싶어 이를 데이터베이스 관리 시스템에 알릴 때 사용한다. 

<br/><br/><br/>

## 3-2. 데이터 언어 
데이터베이스 관리 시스템의 정의, 조작, 제어 기능을 이용하기 위한 수단이기 때문에 사용 목적에 따라 데이터 정의어, 데이터 조작어, 데이터 제어어로 나눈다. 

- 데이터 정의어(DDL): 스키마를 정의하거나 수정 또는 삭제하기 위해 사용한다.
  - ex) CREATE, ALTER, DROP
- 데이터 조작어(DML): 데이터의 삽입, 삭제, 수정, 검색 등의 처리를 요구하기 위해 사용한다.
  - ex) INSERT, DELETE, UPDATE 등 
- 데이터 제어어(DCL): 동시 공유가 가능하면서도 무결성과 일관성을 유지하도록 내부적으로 필요한 규칙이나 기법들을 정의하기 위해 사용한다. 
  - ex) COMMIT, ROLLBACK, GRANT, REVOKE
      - COMMIT : Transaction의 변경 내용을 최종 반영
      - ROLLBACK : Transaction의 변경 내용을 모두 취소하고 이전 상태로 되돌리는 것


<br/><br/><br/>

## 4. 데이터 조작어

- 절차적 데이터 조작어 
  - 해당 데이터를 얻으려면 어떻게 처리해야 하는지를 설명한다.
  
- 비절차적 데이터 조작어
  - 사용자가 어떤 데이터를 원하는지만 설명한다. 

<br/><br/>

### 데이터 제어어

- 무결성 : 데이터베이스에 정확하고 유효한 데이터만 유지한다.
- 보안 : 허가받지 않는 사용자가 데이터에 접근하는 것을 차단하거나, 허가된 사용자가 접근 권한이 있는 데이터에만 접근할 수 있게 한다. 
- 회복 : 장애가 발생해도 데이터의 일관성을 유지한다.
- 동시서 : 여러 사용자가 같은 데이터에 동시에 접근하여 처리할 수 있게 한다. 

<br/><br/>

